(function(){"use strict";var t={5652:function(t,s,e){var a=e(6369),i=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],r={name:"App"},o=r,l=e(1001),u=(0,l.Z)(o,i,n,!1,null,null,null),c=u.exports,k=e(2631),d=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"main"}},[s("main-menu")],1)},m=[],p=function(){var t=this,s=t._self._c;return s("div",[s("button",{staticClass:"main-menu-btn",on:{click:t.on_tasks}},[t._v("К списку задач")])])},f=[],v=(e(7658),{name:"MainMenu",data(){return{}},methods:{on_tasks(){this.$router.push("/task")}}}),h=v,T=(0,l.Z)(h,p,f,!1,null,"4758f44a",null),g=T.exports,x={name:"MainView",components:{MainMenu:g},data(){return{}}},_=x,b=(0,l.Z)(_,d,m,!1,null,null,null),w=b.exports,C=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"task"}},[s("task-form")],1)},y=[],I=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"add-task-title"},[t._v("Список задач")]),s("div",{staticClass:"add-task-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskTitle,expression:"taskTitle"}],staticClass:"task-form-input",attrs:{placeholder:"Заголовок задачи"},domProps:{value:t.taskTitle},on:{input:function(s){s.target.composing||(t.taskTitle=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskText,expression:"taskText"}],staticClass:"task-form-input",attrs:{placeholder:"Описание задачи"},domProps:{value:t.taskText},on:{input:function(s){s.target.composing||(t.taskText=s.target.value)}}}),s("button",{staticClass:"task-form-btn",on:{click:t.addTask}},[t._v("Добавить задачу")]),s("button",{staticClass:"task-form-btn back",on:{click:t.back}},[t._v("Главное меню")])]),s("list-tasks",{attrs:{tasks:t.Tasks},on:{deleteTask:t.deleteTask,editTask:t.editTask}})],1)},O=[],Z=function(){var t=this,s=t._self._c;return s("div",[s("ul",t._l(t.tasks,(function(e){return s("li",{key:e.id},[s("task-item",{attrs:{task:e},on:{deleteTaskItem:t.deleteTaskItem,editTaskItem:t.editTaskItem}})],1)})),0)])},P=[],$=function(){var t=this,s=t._self._c;return s("div",{staticClass:"task-item"},[s("div",{staticClass:"task-card"},[s("div",{staticClass:"task-card-title"},[s("div",[t.task.isEdit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"task-card-input title",domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}):s("span",[t._v(t._s(t.task.title))])])]),s("hr"),s("div",{staticClass:"task-card-content"},[s("div",[t.task.isEdit?s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"task-card-input text",domProps:{value:t.text},on:{input:function(s){s.target.composing||(t.text=s.target.value)}}}):s("span",[t._v(t._s(t.task.text))])])]),s("div",{staticClass:"task-card-actions"},[s("button",{staticClass:"task-card-btn",on:{click:function(s){return t.onEdit(t.task.id)}}},[t._v(" "+t._s(t.task.isEdit?"Сохранить":"Редактировать")+" ")]),s("button",{staticClass:"task-card-btn delete",on:{click:function(s){return t.$emit("deleteTaskItem",t.task.id)}}},[t._v("Удалить")])])])])},E=[],S={name:"TaskItem",props:{task:[Object]},data(){return{title:"",text:""}},methods:{onEdit(t){if(!this.task.isEdit)return void this.$emit("editTaskItem",{id:t});const s={id:t,title:this.title,text:this.text};this.$emit("editTaskItem",s)}},mounted(){this.title=this.task.title,this.text=this.task.text}},N=S,j=(0,l.Z)(N,$,E,!1,null,"1505688a",null),M=j.exports,J={name:"ListTasks",components:{TaskItem:M},props:{tasks:[Array]},data(){return{}},methods:{deleteTaskItem(t){this.$emit("deleteTask",t)},editTaskItem(t){this.$emit("editTask",t)}}},F=J,A=(0,l.Z)(F,Z,P,!1,null,"120c45ec",null),L=A.exports,V={name:"TaskForm",components:{ListTasks:L},data(){return{taskTitle:"",taskText:""}},computed:{Tasks(){return this.$store.getters.getTasks}},methods:{addTask(){if(this.taskTitle||this.taskText){const t={id:this.Tasks.length+1,title:this.taskTitle,text:this.taskText,isEdit:!1};this.$store.commit("addTask",t)}this.taskTitle="",this.taskText=""},deleteTask(t){this.$store.commit("deleteTask",t)},editTask(t){this.$store.commit("editTask",t)},back(){this.$router.go("-1")}},async mounted(){await this.$store.dispatch("getTasks")}},q=V,z=(0,l.Z)(q,I,O,!1,null,"c0563e16",null),B=z.exports,D={name:"TaskView",components:{TaskForm:B},data(){return{}}},G=D,H=(0,l.Z)(G,C,y,!1,null,null,null),K=H.exports,Q=new k.ZP({mode:"history",routes:[{path:"/",component:w},{path:"/task",component:K}]}),R=e(3822),U={actions:{async getTasks(t){const s=await localStorage.getItem("tasks");t.commit("setTasks",JSON.parse(s))}},mutations:{setTasks(t,s){t.tasks=s},addTask(t,s){t.tasks.push(s),localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteTask(t,s){t.tasks=t.tasks.filter((t=>t.id!=s)),localStorage.setItem("tasks",JSON.stringify(t.tasks))},editTask(t,s){console.log("changeTask",s);const e=t.tasks.findIndex((t=>t.id==s.id));t.tasks[e].isEdit=!t.tasks[e].isEdit,s.title&&s.text&&(t.tasks[e].title=s.title,t.tasks[e].text=s.text),localStorage.setItem("tasks",JSON.stringify(t.tasks))}},state:()=>({tasks:[]}),getters:{getTasks(t){return t.tasks}}};a.ZP.use(R.ZP);var W=new R.ZP.Store({modules:{task:U}});a.ZP.use(k.ZP),a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(c),router:Q,store:W}).$mount("#app")}},s={};function e(a){var i=s[a];if(void 0!==i)return i.exports;var n=s[a]={exports:{}};return t[a].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(s,a,i,n){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],n=t[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(e.O).every((function(t){return e.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(c--,1);var u=i();void 0!==u&&(s=u)}}return s}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,i,n]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var i,n,r=a[0],o=a[1],l=a[2],u=0;if(r.some((function(s){return 0!==t[s]}))){for(i in o)e.o(o,i)&&(e.m[i]=o[i]);if(l)var c=l(e)}for(s&&s(a);u<r.length;u++)n=r[u],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(c)},a=self["webpackChunktrain_vue_task_manager"]=self["webpackChunktrain_vue_task_manager"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(5652)}));a=e.O(a)})();
//# sourceMappingURL=app.9ac65c03.js.map